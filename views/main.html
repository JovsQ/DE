<div id="wrapper" ng-init="fetchReadings()">

    <div id="page-wrapper">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">EI Compilation</h1>
                
            </div>   

            <div class="row" style="margin: 20px;">
                <div class="form-group col-lg-2">
                    <select class="form-control" ng-model="current_year.year" ng-change="fetchReadings()">
                        <option ng-repeat="year in years" ng-value="year.year">{{year.year}}</option>
                    </select>
                </div>

                <!-- <button class="col-lg-2 btn btn-success pull-right" ng-click="addEntry()" ng-disabled="noRegion() || noPollutants()">Add Reading</button> -->
                <button class="col-lg-2 btn btn-success pull-right" ng-click="addEntry()">Add Reading</button>
                
                <!-- <button class="col-lg-2 btn btn-success pull-right" ng-click="addPollutant()" ng-disabled="noYearSelected()">Add Pollutant</button> -->
                <button class="col-lg-2 btn btn-success pull-right" ng-click="addPollutant()">Add Pollutant</button>

               <!--  <button class="col-lg-2 btn btn-success pull-right" ng-click="addRegion()" ng-disabled="noYearSelected()">Add Region</button> -->
               <button class="col-lg-2 btn btn-success pull-right" ng-click="addRegion()">Add Region</button>

                <!-- <button class="col-lg-2 btn btn-success pull-right" ng-click="addYear()" ng-disabled="addYearDisabled == true">Add Year</button> -->
                <button class="col-lg-2 btn btn-success pull-right" ng-click="addYear()">Add Year</button>
                
            </div>
            <!-- /.col-lg-12 -->
            <div class="row">
                <div class="col-lg-12">
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered" style="overflow: auto; white-space: nowrap;" >
                            <thead>
                                <tr>
                                    <th>REGION</th>
                                    <th>LAT</th>
                                    <th>LONG</th>
                                    <th>SOURCE</th>                                    
                                    <th ng-repeat="pollutant in pollutants_header track by $index">{{pollutant}}</th>
                                    <th style="color: red">TOTAL</th>
                                    <th style="color: red">Regional %</th>
                                </tr>
                            </thead>

                            <tbody ng-repeat="region in regions">
                                <tr>
                                    <!-- region -->
                                    <td rowspan="3" class="labels" style="vertical-align: middle !important">{{region.region}}</td>

                                    <!-- lat -->
                                    <td rowspan="3" class="labels" style="vertical-align: middle !important">{{region.lattitude}}</td>

                                    <!-- long -->
                                    <td rowspan="3" class="labels" style="vertical-align: middle !important">{{region.longitude}}</td>

                                    <!-- stationary -->
                                    <td class="labels" style="color: red">
                                        Stationary
                                    </td>
                                    
                                    <!-- pollutants -->
                                    <td ng-repeat="value in getReadingsBy(region.region, 'Station') track by $index">
                                       {{value}}
                                    </td>
                                </tr>

                                <tr>
                                    <!-- stationary -->
                                    <td class="labels" style="color: red">
                                        Mobile
                                    </td>

                                    <!-- pollutants -->
                                    <td ng-repeat="value in getReadingsBy(region.region, 'Mobile') track by $index">
                                       {{value}}
                                    </td>
                                </tr>

                                <tr>
                                    <!-- area -->
                                    <td class="labels" style="color: red">
                                        Area
                                    </td>
                                   
                                    <!-- pollutants -->
                                    <td ng-repeat="value in getReadingsBy(region.region, 'Area') track by $index">
                                       {{value}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="labels" ng-hide="regions" style="margin-top: 50px;">No Data to display.</div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.row -->
        
    </div>
    <!-- /#page-wrapper -->

</div>
<!-- /#wrapper -->
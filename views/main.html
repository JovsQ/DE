<div id="wrapper" ng-init="fetchReadings()">

    <div id="page-wrapper">
        <div class="row">

            <div class="col-lg-2">
                <img ng-src="images/denr_logo.png" style="width: 150px; height: 100px;">    
            </div>
            <div class="col-lg-8" style="margin-bottom: 40px; display: flex; justify-content: center; align-items: center;">
                <h1>Emission Inventory Compilation WebApp</h1>
            </div>
            <div class="col-lg-2">
                
            </div>                

            <div class="form-group col-lg-4">
                <select class="form-control" ng-model="current_year.year" ng-change="fetchReadings()" style="width: 100%;">
                    <option value='' selected="true" disabled="disabled">Select Year</option>
                    <option ng-repeat="year in years" ng-value="year.year">{{year.year}}</option>
                </select>
            </div>   
            <div class="col-lg-2">
                <button style="width: 100%" class="btn btn-success" ng-click="addYear()">Add Year</button>    
            </div>
            <div class="col-lg-2">
                <button style="width: 100%" class="btn btn-success" ng-click="addRegion()">Add Region</button>
            </div>
            <div class="col-lg-2">
                <button style="width: 100%" class="btn btn-success" ng-click="addPollutant()">Add Pollutant</button>
            </div>
            <div class="col-lg-2">
                <button style="width: 100%" class="btn btn-success" ng-click="addEntry()">Add Reading</button>
            </div>

            <!-- /.col-lg-12 -->
            <div class="row">
                <div class="col-lg-12">
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered" style="overflow: auto; white-space: nowrap;" >
                            <thead>
                                <tr>
                                    <th>REGION</th>
                                    <th>LAT</th>
                                    <th>LONG</th>
                                    <th>SOURCE</th>                                    
                                    <th ng-repeat="pollutant in pollutants_header track by $index">{{pollutant}}</th>
                                    <th style="color: red">TOTAL</th>
                                    <th style="color: red">Regional %</th>
                                </tr>
                            </thead>

                            <tbody ng-repeat="region in regions">
                                <tr>
                                    <!-- region -->
                                    <td rowspan="3" class="labels" style="vertical-align: middle !important">{{region.region}}</td>

                                    <!-- lat -->
                                    <td rowspan="3" class="labels" style="vertical-align: middle !important">{{region.latitude}}</td>

                                    <!-- long -->
                                    <td rowspan="3" class="labels" style="vertical-align: middle !important">{{region.longitude}}</td>

                                    <!-- stationary -->
                                    <td class="labels" style="color: red">
                                        Stationary
                                    </td>
                                    
                                    <!-- pollutants -->
                                    <td ng-repeat="value in getReadingsBy(region.region, 'Station') track by $index">
                                       {{value}}
                                    </td>
                                </tr>

                                <tr>
                                    <!-- stationary -->
                                    <td class="labels" style="color: red">
                                        Mobile
                                    </td>

                                    <!-- pollutants -->
                                    <td ng-repeat="value in getReadingsBy(region.region, 'Mobile') track by $index">
                                       {{value}}
                                    </td>
                                </tr>

                                <tr>
                                    <!-- area -->
                                    <td class="labels" style="color: red">
                                        Area
                                    </td>
                                   
                                    <!-- pollutants -->
                                    <td ng-repeat="value in getReadingsBy(region.region, 'Area') track by $index">
                                       {{value}}
                                    </td>
                                </tr>
                            </tbody>

                            <tbody>
                                <th colspan="4">TOTAL</th>                                    
                                <th colspan="2" ng-repeat="pollutant in pollutants track by $index">{{getPollutantTotal(pollutant.pollutant, $index)}}</th>
                                <th colspan="2" style="color: red">{{getPollutantGrandTotal()}}</th>
                            </tbody>
                        </table>

                        <div class="labels" ng-hide="regions" style="margin-top: 50px;">No Data to display.</div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.row -->
        
    </div>
    <!-- /#page-wrapper -->

</div>
<!-- /#wrapper -->